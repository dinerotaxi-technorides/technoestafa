// Generated by CoffeeScript 1.7.1
(function() {
  var ecstatic, fs, union;

  fs = require('fs');

  union = require('union');

  ecstatic = require('ecstatic');

  this.defaults = {
    root: '.',
    index: true,
    ext: 'html',
    dirs: true,
    cache: 600,
    headers: {},
    preware: [],
    postware: []
  };

  this.createServer = (function(_this) {
    return function(options) {
      return (function() {
        return union.createServer({
          headers: this.headers,
          before: this.preware.concat([
            ecstatic(this.root, {
              showDir: this.dirs,
              autoIndex: this.index,
              cache: this.cache,
              defaultExt: this.ext
            })
          ]).concat(this.postware)
        });
      }).call(merge(_this.defaults, options));
    };
  })(this);

}).call(this);
