doctype html
html(lang="{{user.lang}}" ng-app="technoridesApp",ng-controller="dispatcherCtrl")
  head
    meta(charset="utf-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0, maximum-scale=1.0")
    meta(name="description", content="")
    meta(name="author", content="")
    link(rel="icon" href="/common/assets/logo/favicon.ico" type="image/x-icon")
    title TechnoRides Panel
    link(href="/common/libs/template/css/jquery.gritter.css" rel="stylesheet")
    link(href="/common/libs/template/css/style.default.css", rel="stylesheet")
    link(href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css", rel="stylesheet")
    // Angular
    script(src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js")
    script(src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-animate.min.js")
    script(src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-route.js")
    script(src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-cookies.js")
    script(src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-sanitize.js")
    script(src="//cdn.jsdelivr.net/angular.translate/2.1.0/angular-translate.min.js")
    // Map
    script(src="https://maps.googleapis.com/maps/api/js?libraries=places&sensor=false")
    script(src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.js")
    script(src="/common/libs/angular-google-maps.min.js")
    //autocomplete
    script(src="/common/libs/ng-autocomplete.js")
    // Module
    script(src="scripts/dispatcher.js")
    // Websocket
    script(src="/common/scripts/websocket/webSocket.js")
    script(src="/common/libs/reconnecting-websocket-extended.js")
    script(src="scripts/services/websocket/websocketHandler.js")
    script(src="scripts/services/websocket/websocketAdapter.js")
    // Api
    script(src="/common/scripts/api/api.js")
    script(src="scripts/services/api/apiAdapter.js")
    script(src="scripts/services/api/apiHandler.js")
    // config files
    script(src="/common/scripts/settings.js")
    script(src="/common/scripts/versionDetector.js")
    script(src="scripts/config/route.js")
    script(src="scripts/config/locale.js")
    // controller
    script(src="scripts/controllers/dispatcherCtrl.js")

    //directives
    script(src="scripts/directives/src-err.js")
    // models
    script(src="scripts/services/radio.js")
    script(src="scripts/services/menu.js")
    script(src="scripts/services/messages.js")
    script(src="/common/scripts/map.js")
    script(src="/login/scripts/services/models/user.js")
    script(src="scripts/services/models/error.js")
    script(src="scripts/services/models/statistics.js")
    script(src="scripts/services/models/company.js")
    script(src="scripts/services/sugestions.js")
    script(src="scripts/services/price.js")
    //datetimepicker
    link(rel="stylesheet", type="text/css", href="/common/libs/datetimepicker.css")
    script(src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.2/moment.min.js")
    script(src="/common/libs/datetimepicker.js")


    // HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries
    // if lt IE 9
      script(src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js")
      script(src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js")

    // Cookies
    script(src="/common/libs/angular-cookie.js")
    // Feedback
    script(src="/common/scripts/feedback.js")
    // Errors
    script(src="/common/scripts/messages.js")
    // Mp3
    script(src="/common/libs/mp3/recordmp3.js")
    script(src="/common/libs/mp3/recordFunctions.js")
    // Libraries
    script(src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js")
    script(src="//code.jquery.com/ui/1.11.1/jquery-ui.min.js")
    link(href="//code.jquery.com/ui/1.11.1/themes/smoothness/jquery-ui.css")
    script(src="/common/libs/template/js/jquery-migrate-1.2.1.min.js")
    script(src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js")
    script(src="/common/libs/template/js/modernizr.min.js")
    script(src="/common/libs/template/js/jquery.sparkline.min.js")
    script(src="/common/libs/template/js/toggles.min.js")
    //script(src="/common/libs/template/js/retina.min.js")
    script(src="/common/libs/template/js/jquery.cookies.js")
    script(src="/common/libs/template/js/morris.min.js")
    script(src="/common/libs/template/js/raphael-2.1.0.min.js")
    script(src="/common/libs/template/js/custom.js")
    script(src="/common/libs/template/js/jquery.gritter.min.js")
    script(src="/common/libs/template/js/dashboard.js")
    script(src="/common/libs/autocomplete.js")
    script(src="/common/libs/template/js/flot/jquery.flot.min.js")
    script(src="/common/libs/template/js/flot/jquery.flot.resize.min.js")
    script(src="/common/libs/template/js/flot/jquery.flot.spline.min.js")
    script(src="/common/libs/template/js/flot/jquery.flot.categories.min.js")
    script(src="/common/libs/ui-bootstrap-tpls.min.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/holder/2.7.1/holder.min.js")

    // Filters
    script(src="scripts/filters/timer.js")
    script(src="scripts/filters/orderObject.js")
    script(src="scripts/filters/filterOperationByStatus.js")
    // Analytics
    script(aync src="https://www.google-analytics.com/analytics.js")
    script(src="/common/libs/angulartics.min.js")
    script(src="/common/libs/angulartics-ga.min.js")
    script(src="/common/scripts/messages.js")
    script.
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
              ga('create', 'UA-45881678-1', 'auto');
              //ga('send', 'pageview');
    script.

      /*<![CDATA[*/window.zEmbed||function(e,t){var n,o,d,i,s,a=[],r=document.createElement("iframe");window.zEmbed=function(){a.push(arguments)},window.zE=window.zE||window.zEmbed,r.src="javascript:false",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="display: none",d=document.getElementsByTagName("script"),d=d[d.length-1],d.parentNode.insertBefore(r,d),i=r.contentWindow,s=i.document;try{o=s}catch(c){n=document.domain,r.src='javascript:var d=document.open();d.domain="'+n+'";void(0);',o=s}o.open()._l=function(){var o=this.createElement("script");n&&(this.domain=n),o.id="js-iframe-async",o.src=e,this.t=+new Date,this.zendeskHost=t,this.zEQueue=a,this.body.appendChild(o)},o.write('<body onload="document._l();">'),o.close()}("https://assets.zendesk.com/embeddable_framework/main.js","technorides.zendesk.com");/*]]>*/

    link(href='https://fonts.googleapis.com/css?family=Exo:400,400italic' rel='stylesheet' type='text/css')
    // custom styles
    link(href="styles/dispatcher.css", rel="stylesheet")
  body
    div(ng-include="'/common/views/partials/version.html'")
    // Preloader
    #preloader
      #status
        i.fa.fa-spinner.fa-spin.fa-3x
    section
      .leftpanel
        .logopanel
          h1
            p Techno
              span Rides
        // logopanel
        .leftpanelinner
          // This is only visible to small devices
          .visible-xs.hidden-sm.hidden-md.hidden-lg
            .media.userlogged
              img.media-object(alt="", src="/common/assets/user/profile.png")
              .media-body
                h4 {{user.firstName}} {{user.lastName}}

            ul.nav.nav-pills.nav-stacked.nav-bracket.mb30
              li.hidden
                a(href="signin.html" )
                  i.fa.fa-cog
                  | {{'Settings'| translate}}
              li
                a(href="/{{user.lang}}/panel/")
                  i.fa.fa-heartbeat
                  | Stable
              li
                a(href="#",ng-click="logout()")
                  i.fa.fa-power-off
                  | {{'LogOut' | translate}}
          ul.nav.nav-pills.nav-stacked.nav-bracket
            .infosummary
              h5.sidebartitle {{'GeneralStats' | translate}}
              ul
                li
                  .datainfo
                    span.text-muted {{'Operations' | translate}}
                    h4 {{statistics.data.operations.total}}
                  #sidebar-operations-chart.chart
                li
                  .datainfo
                    span.text-muted {{'Drivers' | translate}}
                    h4 {{statistics.data.drivers.total}}
                  #sidebar-drivers-chart.chart
                li
                  .datainfo
                    span.text-muted {{'Passengers' | translate}}
                    h4 {{statistics.data.passengers.total}}
                  #sidebar-passengers-chart.chart
                li.hidden
                  .datainfo
                    span.text-muted {{"TimeZone" | translate}}
                    br
                    h4 {{user.timeZone}}
                    //h4 12
                      strong.blink :
                      | 32
                li.text-center(ng-if="user.digitalRadio && user.role != 'monitor'")
                  .radio(ng-show="!microphoneDisabled")
                    .col-xs-4
                      a(ng-mousedown="record()" ng-mouseup="stopRecording()" ng-mouseleave="stopRecording()" ng-class="{'hidden': microphoneDisabled}" style="cursor:pointer" ondragstart="return false;" onselectstart="return false;" oncontextmenu="return false;")
                        img(src="/dispatcher/assets/radio/radio_btn.png" ng-show="!recording && !encoding" ondragstart="return false;" onselectstart="return false;" oncontextmenu="return false;")
                        img#radioRecording(src="/dispatcher/assets/radio/radio_btn_recording.gif" ng-show="recording && !encoding" ondragstart="return false;" onselectstart="return false;" oncontextmenu="return false;")
                        img(src="/dispatcher/assets/radio/radio_btn_disabled.png" ng-show="encoding" ondragstart="return false;" onselectstart="return false;" oncontextmenu="return false;")
                    .col-xs-8
                      img.img-responsive.audio-wave(src="/dispatcher/assets/radio/audiowave.gif" ng-show="recording || radio.active")
                      img.img-responsive.audio-wave(src="/dispatcher/assets/radio/nosound.png" ng-show="!recording && !radio.active")
                      .radio-status
                        span(ng-hide="recording || radio.sender!=''") Stand By
                        span.recording(ng-show="recording") recording...
                        marquee.reciving(ng-show="!recording && radio.sender!=''" behavior="scroll" direction="left" scrolldelay="10") {{radio.sender}}
                  .text-center(ng-show="microphoneDisabled")
                    .radio-disabled
                      img(src="/dispatcher/assets/radio/disabled_mic.png")
                      span {{'microphoneDisabled' | translate}}
                li.text-center(ng-if="!user.digitalRadio && user.role != 'monitor'")
                  .text-center
                    .radio-unavailable
                      .radio-unavailable-title
                        {{'upgradeToPremium' | translate}}
                      .radio-unavailable-body
                        {{'andGetTheDigitalRadio' | translate}}
                li(ng-if="false && user.digitalRadio && user.role != 'monitor'")
                  span.text-muted {{'sendMessage' | translate}}
                  br
                  label {{'ToAllDrivers' | translate}}
                  input.pull-right(type="checkbox" ng-model="sms.toAll")
                  br
                  div(ng-if="!sms.toAll")
                    label {{'DriverId' | translate}}

                    input.form-control(type="text" ng-model="sms.driverId" ng-if="!sms.toAll")
                    br

                  label {{'Message' | translate}}
                  textarea.form-control(ng-model="sms.message")
                  br
                  .btn.btn-default.btn-sm(ng-click="sendMessage(sms.driverId, sms.message)")
                    | {{'Send' | translate}}
      .mainpanel
        .headerbar
          a.menutoggle
            i.fa.fa-bars
          form.searchform(novalidate)
            input.form-control(type="text", name="keyword", placeholder="{{'Search' | translate}}", ng-model="driver", ng-change="locateDriver(driver)")
            span.visible-lg(style="float: left; margin: 10px")
              {{clock | date: "hh:mm:ss a"}}
              span(style="padding: 0px 15px")
                ||
              {{clock | date: "d MMM. yyyy"}}
              .hidden
                span(style="padding: 0px 15px")
                  ||
                img(ng-src="{{weather.icon}}" style="width: 30px; height: 30px")
                span(style="padding: 0px 5px").text-capitalize
                  {{weather.temp}}
              .hidden
                span(style="padding: 0px 15px")
                  ||
                {{user.adminCode + ", " + user.country}}
          .header-right
            ul.headermenu
              li
                a.btn.btn-default.dropdown-toggle(href="../dispatcher-2")
                  span(style="font-size:23px") switch to LR
              li
                .btn-group
                  button.btn.btn-default.dropdown-toggle(type="button" data-toggle="dropdown" aria-expanded="false")
                    img(ng-src="/technorides/assets/lang/{{lang}}.png")
                    span(ng-if="lang == 'es'") Español
                    span(ng-if="lang == 'en'") English
                    span(ng-if="lang == 'fr'") Francais
                    span.caret
                  ul.dropdown-menu#langdrop(role="menu")
                    li.new-lang
                      a(ng-click="changeLanguage('en')")
                        img(ng-src="/technorides/assets/lang/en.png")
                        | English
                    li.new-lang
                      a(ng-click="changeLanguage('es')")
                        img(ng-src="/technorides/assets/lang/es.png")
                        | Español
                    li.new-lang
                      a(ng-click="changeLanguage('fr')")
                        img(ng-src="/technorides/assets/lang/fr.png")
                        | Francais
              li
                .btn-group
                  button.btn.btn-default.dropdown-toggle.appear(type="button" data-toggle="dropdown" aria-expanded="false")
                    i.fa.fa-eye.fa-lg
                    span.caret
                  ul.dropdown-menu#viewdrop(role="menu")
                    li(ng-class="{active: map.visibility['zones']}")
                      a(ng-click="map.toggleMarkers('zones')")
                        i.fa.fa-codepen

                    li(ng-class="{active: map.visibility['parkings']}")
                      a(ng-click="map.toggleMarkers('parkings')")
                        img(src="/common/assets/markers/parking.png")

                    li(ng-class="{active: map.visibility['operations']}")
                      a.tp-icon(ng-click="map.toggleMarkers('operations')")
                        img(src="/common/assets/markers/operation_pending.png")
                        span.badge {{(map.operations | filter:{status:'pending'}).length + (map.operations | filter:{status:'intransaction'}).length }}

                    li(ng-class="{active: map.visibility['online']}")
                      a.tp-icon(ng-click="map.toggleMarkers('online')")
                        img(src="/common/assets/markers/driver_online.png")
                        span.badge {{statistics.data.drivers.online}}

                    li(ng-class="{active: map.visibility['offline']}")
                      a.tp-icon(ng-click="map.toggleMarkers('offline')")
                        img(src="/common/assets/markers/driver_offline.png")
                        span.badge {{statistics.data.drivers.offline}}

                    li(ng-class="{active: map.visibility['intravel']}")
                      a.tp-icon(ng-click="map.toggleMarkers('intravel')")
                        img(src="/common/assets/markers/driver_intravel.png")
                        span.badge {{statistics.data.drivers.intravel}}

                    li(ng-class="{active: map.visibility['disconnected']}")
                      a.tp-icon(ng-click="map.toggleMarkers('disconnected')")
                        img(src="/common/assets/markers/driver_disconnected.png")
                        span.badge {{statistics.data.drivers.disconnected}}
              li.appear
                a.btn.btn-default.dropdown-toggle(ng-click="map.showAllMarkers()")
                  i.fa.fa-compass.fa-lg
              li
                .btn-group
                  button.btn.btn-default.dropdown-toggle(type="button", data-toggle="dropdown")
                    img(src="/common/assets/user/profile.png", alt="")
                    | {{user.firstName}} {{user.lastName}}
                    span.caret
                  ul.dropdown-menu.dropdown-menu-usermenu.pull-right
                    li.hidden
                      a(href="signin.html")
                        i.fa.fa-cog
                        | {{'Settings' | translate}}
                    li
                      a(href="/{{user.lang}}/panel/")
                        i.fa.fa-heartbeat
                        | Stable
                    li
                      a(href="#",ng-click="logout()")
                        i.fa.fa-power-off
                        | {{'LogOut' | translate}}
              li
                button#chatview.btn.btn-default.tp-icon.chat-icon
                  i.glyphicon.glyphicon-comment

        //input(type="text" ng-model="operationDetailsId")
        //button(ng-click="getOperationFlow(operationDetailsId)") get Op details
        #map_canvas
          ui-gmap-google-map(center="map.center", zoom="map.zoom", draggable="true", options="map.options", events="map.events", style="width: 100%; height: 100%;", pan="true")
            // Drivers
            ui-gmap-markers(models="map.drivers", coords="'self'", options="'options'", doRebuildAll="false", islabel="true", data-toggle="tooltip", data-placement="top",doCluster="false")

            // Company location
            ui-gmap-marker(coords="map.markerHome.coords", options="map.markerHome.options", icon="map.markerHome.icon", idKey="map.markerHome.id")

            // New trip
            ui-gmap-marker(coords="map.markerOrigin.coords", options="map.markerOrigin.options" icon="map.markerOrigin.icon" idKey="map.markerOrigin.id" events="map.markerOrigin.events")
            ui-gmap-marker(coords="map.markerDest.coords", options="map.markerDest.options" icon="map.markerDest.icon" idKey="map.markerDest.id" events="map.markerDest.events")

            // Zones
            ui-gmap-polygon(ng-repeat="zone in map.zones"
              events="map.eventZones"
              path='zone.path'
              fill="zone.color"
              stroke="zone.stroke"
              clickable='false'
              draggable='false'
              editable='false'
              visible='zone.visible'
              name="zone.id")

            // Parkings
            ui-gmap-markers(models="map.parkings", coords="'self'", options="'options'", doRebuildAll="false", islabel="true")
            //events="map.eventParking")
            ui-gmap-circle(ng-repeat="parking in map.parkings" center="parking.center" geodesic="false" stroke="{color:'white',weight: 3,opacity: 0.5}" fill="{color:'#2b0040',opacity: 0.1}" radius="company.config.parking.distance.passenger" editable="false" draggable="false" clickable="false" visible="map.parkingsActive && parking.radius.visible")
            ui-gmap-circle(ng-repeat="parking in map.parkings" center="parking.center" geodesic="false" stroke="{color:'white',weight: 3,opacity: 0.5}" fill="{color:'white',opacity: 0.3}" radius="company.config.parking.distance.driver" editable="false" draggable="false" clickable="false" visible="map.parkingsActive && parking.radius.visible")

            // Radar effect
            //ui-gmap-circle(center="map.markerOrigin.coords" geodesic="false" stroke="fill1" fill="{color:'#285e8e',weight: 2,opacity: 0}" radius="radius" editable="false" draggable="false" clickable="false" visible="map.markerOrigin.radius.visible")
            //ui-gmap-circle(center="map.markerOrigin.coords" geodesic="false" stroke="fill2" fill="{color:'#285e8e',weight: 2,opacity: 0}" radius="radius2" editable="false" draggable="false" clickable="false" visible="map.markerOrigin.radius.visible")
            //ui-gmap-circle(center="map.markerOrigin.coords" geodesic="false" stroke="fill3" fill="{color:'#285e8e',weight: 2,opacity: 0}" radius="radius3" editable="false" draggable="false" clickable="false" visible="map.markerOrigin.radius.visible")
            //ui-gmap-circle(center="map.markerOrigin.coords" geodesic="false" stroke="fill4" fill="{color:'#285e8e',weight: 2,opacity: 0}" radius="radius4" editable="false" draggable="false" clickable="false" visible="map.markerOrigin.radius.visible")
            //ui-gmap-circle(center="map.markerOrigin.coords" geodesic="false" stroke="{color: '#009a80', opacity: 0.5, weight: 2}" fill="{color:'#285e8e',opacity: 0}" radius="company.config.operations.autorecieve.distance" editable="false" draggable="false" clickable="false" visible="map.markerOrigin.radius.visible")

            // Operations
            ui-gmap-markers(models="map.operations", coords="'self'", options="'options'", doRebuildAll="false", islabel="true", events="map.eventOperation")

            //ui-gmap-circle(ng-repeat="operation in map.operations" center="{latitude: operation.latitude, longitude: operation.longitude}" geodesic="false" stroke="{color: 'white', weight: 3, opacity: 0.5}" fill="{color:'#ffc600', opacity: 0.1}" radius="company.config.operations.autorecieve.distance + (company.config.operations.autorecieve.relaunchDistance * 2)" editable="false" draggable="false" clickable="false" visible="operation.status == 'pending' && operation.radius.visible")

            //ui-gmap-circle(ng-repeat="operation in map.operations" center="{latitude: operation.latitude, longitude: operation.longitude}" geodesic="false" stroke="{color: 'white', weight: 3, opacity: 0.5}" fill="{color: 'white', opacity: 0.3}" radius="company.config.operations.autorecieve.distance + company.config.operations.autorecieve.relaunchDistance" editable="false" draggable="false" clickable="false" visible="operation.status == 'pending' && operation.radius.visible")

            //ui-gmap-circle(ng-repeat="operation in map.operations" center="{latitude: operation.latitude, longitude: operation.longitude}" geodesic="false" stroke="{color: 'white', weight: 3, opacity: 0.5}" fill="{color: '#ffc600', opacity: 0.1}" radius="company.config.operations.autorecieve.distance" editable="false" draggable="false" clickable="false" visible="operation.status == 'pending' && operation.radius.visible")



        .text-center.resizable(ng-if="panel")
          .hide-panel
            i.fa.fa-arrows-v
        div(ng-view="" ng-if="panel")
        div(ng-include="'/common/views/partials/modals/feedback.html'")
      .rightpanel
        // Tab panes
        .tab-content(style="margin-top:0px")
          #rp-alluser.tab-pane.active
            h5.sidebartitle Broadcast
            div.text-center(ng-if="user.digitalRadio && user.role != 'monitor'")
              .radio(ng-show="!microphoneDisabled")
                  a(ng-mousedown="record()" ng-mouseup="stopRecording()" ng-mouseleave="stopRecording()" ng-class="{'hidden': microphoneDisabled}" style="cursor:pointer" ondragstart="return false;" onselectstart="return false;" oncontextmenu="return false;")
                    img(src="/dispatcher/assets/radio/radio_btn.png" ng-show="!recording && !encoding" ondragstart="return false;" onselectstart="return false;" oncontextmenu="return false;")
                    img#radioRecording(src="/dispatcher/assets/radio/radio_btn_recording.gif" ng-show="recording && !encoding" ondragstart="return false;" onselectstart="return false;" oncontextmenu="return false;")
                    img(src="/dispatcher/assets/radio/radio_btn_disabled.png" ng-show="encoding" ondragstart="return false;" onselectstart="return false;" oncontextmenu="return false;")
              .text-center(ng-show="microphoneDisabled")
                .radio-disabled
                  img(src="/dispatcher/assets/radio/disabled_mic.png")
                  span {{'microphoneDisabled' | translate}}
            div.text-center(ng-if="!user.digitalRadio && user.role != 'monitor'")
              .text-center
                .radio-unavailable
                  .radio-unavailable-title
                    {{'upgradeToPremium' | translate}}
                  .radio-unavailable-body
                    {{'andGetTheDigitalRadio' | translate}}

            ul.chatuserlist
              li(ng-repeat="driver in drivers" ng-if="driver.status != 'disconnected'" ng-mouseover="driver.focus = true" ng-mouseleave="driver.focus = false")
                .media
                  a.pull-left.media-thumb(href="#" ng-class="{online: driver.status == 'online'}")
                    img.media-object(alt="", ng-src="{{driver.image}}" onerror="this.src='/common/assets/user/profile.png'" style="width:30px;height:30px")
                  .media-body
                    a.pull-right(ng-if="driver.focus" ng-mousedown="radiotodriver.record(driver.id)" ng-mouseup="radiotodriver.stopRecording()" ng-mouseleave="radiotodriver.stopRecording()" ng-class="{'hidden': microphoneDisabled}" style="cursor:pointer" ondragstart="return false;" onselectstart="return false;" oncontextmenu="return false;")
                      img(src="/dispatcher/assets/radio/radio_btn.png" style="width:30px;height:30px" ng-show="!radiotodriver.recording && !radiotodriver.encoding" ondragstart="return false;" onselectstart="return false;" oncontextmenu="return false;")
                      img#radiodriverRecording(src="/dispatcher/assets/radio/radio_btn_recording.gif" style="width:30px;height:30px" ng-show="radiotodriver.recording && !radiotodriver.encoding" ondragstart="return false;" onselectstart="return false;" oncontextmenu="return false;")
                      img(src="/dispatcher/assets/radio/radio_btn_disabled.png" style="width:30px;height:30px" ng-show="radiotodriver.encoding" ondragstart="return false;" onselectstart="return false;" oncontextmenu="return false;")
                    strong # {{driver.number}}
                    small {{driver.name +' '+driver.surname | lowercase}}

                // media
            .mb30
    audio#arrived(type="audio/wav", src="/common/assets/audio/new_trip.wav")
    audio#recive(type="audio/mp3" src="/common/assets/audio/pip_pip.mp3")
    audio#send(type="audio/mp3" src="/common/assets/audio/prip.mp3")
    div(ng-include="'/common/views/partials/modals/messages.html'")
